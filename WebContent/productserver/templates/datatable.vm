#if ($las_request.getProperty("las", "output_type") == 'json')

$las_response.toJSON()

#elseif ($las_request.getProperty("las", "output_type") == 'xml')

$las_response.toString()

#else

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- LAS SERVER OK -->
<head>
    <!-- Let IE know to use the IE9 standard browser and document modes -->
    <meta http-equiv="X-UA-Compatible" content="IE=9">

<title>LAS Output -- $las_config.getTitle()</title>
##


## Write the preamble

#set($preamble = $las_datatable.getPreamble())
#foreach ( $p in $preamble)
<strong>$p<br></strong>
#end

##Write the rows.
    ## Set up an alternator tool to color every other row.
    #set($color = $alternator.auto('#F3E7C9','#FFFFFF'))

    ## Get the metadata so we have the column names and
    ## the number of columns.
    
    #set($metadata = $las_datatable.getHeaders())
    #set($cols = $metadata.size())
        
    #set($size = $las_datatable.getData().get($metadata.get(0)).size())
    Total number of rows is $size <br>
    <table border="2" cellpadding="4">
        ## Set the column headers including one for the row number.
        <tr>
             <th>Row</th>
             #set($c = $cols - 1)
             #foreach ($i in [0..$c])
                 <th>$metadata.get($i)</th>
             #end 
       </tr>
       ## Loop over the rows...
       #set($s = $size - 1)
       #foreach ($row in [0..$s])
          ## Use the alternator to change the color of every other row.
          <tr bgcolor="$color">
             ## Add the row number
             #set($r = $row + 1)
             <td align="right">$r</td>
             ## Loop the columns
             #foreach ($i in [0..$c])
                 ## Grab the column value as a string.
                 ## If you want more control you can check the column type in the metadata and use the Velocity Formatter tool
                 ## to format the each column value.
                 <td align="right">$las_datatable.getData().get($metadata.get($i)).get($row)</td>
             #end  ## Done with columns
          </tr>

       #end  ## Done with this row.
    </table>
</body>
</html>
#end

